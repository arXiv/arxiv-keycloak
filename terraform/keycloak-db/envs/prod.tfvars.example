# Production environment configuration
# Copy this file to prod.tfvars and customize for your production environment

gcp_project_id = "arxiv-production"
gcp_region     = "us-central1"

# Database instance configuration
instance_name = "authdb-prod"
tier          = "db-custom-2-7680"  # 2 vCPU, 7.5 GB RAM (production tier)
disk_size     = 100                  # GB (increased for production)

# Network configuration
# Disable public IP for production (private networking only)
ipv4_enabled = false
private_network = "projects/arxiv-production/global/networks/default"

# Security configuration
# Require SSL/TLS connections with trusted client certificates
require_ssl = true

# Database and users
database_name = "keycloak"
db_username   = "postgres"  # Main admin user

# Passwords
# db_password: Leave empty to auto-generate. Stored in {instance_name}-db-password secret.
# keycloak_password: Provided by keycloak-service module. Pass via CLI:
#   -var="keycloak_password=$(cd ../keycloak-service && terraform output -raw keycloak_db_password)"

# Protection
deletion_protection = true  # CRITICAL: Set to true for production to prevent accidental deletion
